<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ztz.system.dao.EmployeeMapper">

    <resultMap id="BaseResultMap" type="com.ztz.system.pojo.Employee">
        <id column="employee_id" property="employeeId" jdbcType="INTEGER"/>
        <result column="employee_age" property="employeeAge" jdbcType="INTEGER"/>
        <result column="employee_email" property="employeeEmail" jdbcType="VARCHAR"/>
        <result column="employee_name" property="employeeName" jdbcType="VARCHAR"/>
        <result column="employee_gender" property="employeeGender" jdbcType="INTEGER"/>
        <result column="employee_phone" property="employeePhone" jdbcType="VARCHAR"/>
        <result column="employee_order_finish_time" property="employeeOrderFinishTime" jdbcType="INTEGER"/>

    </resultMap>

    <sql id="Base_Column_List">
        employee_id, employee_age, employee_email, employee_name, employee_gender, employee_phone,
        employee_order_finish_time
    </sql>

    <!--// 通过id查找职员-->
    <!--Employee getEmployeeById(Integer id);-->
    <select id="getEmployeeById" parameterType="java.lang.Integer" resultType="com.ztz.system.pojo.Employee">
        select *
        from employee
        where employee_id = #{id,jdbcType=INTEGER}
    </select>

    <!--// 查找所有职员-->
    <!--List<Employee> getAllEmployees();-->
    <select id="getAllEmployees" resultType="com.ztz.system.pojo.Employee">
        select *
        from employee
    </select>

    <!--// 条件查找部分职员-->
    <!--List<Employee> getSelectiveEmployees();-->
    <select id="getSelectiveEmployees" resultType="com.ztz.system.pojo.Employee">
        select *
        from employee
        where employee_id like CONCAT('%',#{text, jdbcType=VARCHAR},'%')
        or employee_name like CONCAT('%',#{text, jdbcType=VARCHAR},'%')
        or employee_phone like CONCAT('%',#{text, jdbcType=VARCHAR},'%')
        or employee_name like CONCAT('%',#{text, jdbcType=VARCHAR},'%')
        or employee_email like CONCAT('%',#{text, jdbcType=VARCHAR},'%')
    </select>

    <!--// 增-->
    <!--int addEmployee(Employee employee);-->
    <insert id="addEmployee" parameterType="com.ztz.system.pojo.Employee">
        insert into employee
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="employeeId != null">
                employee_id,
            </if>
            <if test="employeeAge != null">
                employee_age,
            </if>
            <if test="employeeEmail != null">
                employee_email,
            </if>
            <if test="employeeName != null">
                employee_name,
            </if>
            <if test="employeeGender != null">
                employee_gender,
            </if>
            <if test="employeePhone != null">
                employee_phone,
            </if>
            <if test="employeeOrderFinishTime != null">
                employee_order_finish_time,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="employeeId != null">
                #{employeeId,jdbcType=INTEGER},
            </if>
            <if test="employeeAge != null">
                #{employeeAge,jdbcType=INTEGER},
            </if>
            <if test="employeeEmail != null">
                #{employeeEmail,jdbcType=INTEGER},
            </if>
            <if test="employeeName != null">
                #{employeeName,jdbcType=VARCHAR},
            </if>
            <if test="employeeGender != null">
                #{employeeGender,jdbcType=INTEGER},
            </if>
            <if test="employeePhone != null">
                #{employeePhone,jdbcType=VARCHAR},
            </if>
            <if test="employeeOrderFinishTime != null">
                #{employeeOrderFinishTime,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>


    <!--// 删-->
    <!--int deleteEmployee(Integer id);-->

    <delete id="deleteEmployee" parameterType="java.lang.Integer">
        delete from employee
        where employee_id = #{id, jdbcType=INTEGER}
    </delete>


    <!--// 改-->
    <!--int updateEmployee(Employee employee);-->

    <update id="updateEmployee" parameterType="com.ztz.system.pojo.Employee">
        update employee
        <set>
            <if test="employeeName != null">
                employee_name = #{employeeName,jdbcType=VARCHAR},
            </if>
            <if test="employeeAge != null">
                employee_age = #{employeeAge,jdbcType=VARCHAR},
            </if>
            <if test="employeeEmail != null">
                employee_email = #{employeeEmail,jdbcType=VARCHAR},
            </if>
            <if test="employeeGender != null">
                employee_gender = #{employeeGender,jdbcType=INTEGER},
            </if>
            <if test="employeePhone != null">
                employee_phone = #{employeePhone,jdbcType=INTEGER},
            </if>
            <if test="employeeOrderFinishTime != null">
                employee_order_finish_time = #{employeeOrderFinishTime,jdbcType=INTEGER},
            </if>
        </set>
        where employee_id = #{employeeId,jdbcType=INTEGER}
    </update>
</mapper>